<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIRK Brain Portal - Reference Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .header {
            background: rgba(26, 26, 46, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(59, 130, 246, 0.3);
            padding: 2rem;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .architecture-section {
            background: rgba(30, 58, 95, 0.3);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }
        
        .architecture-section h2 {
            color: #3b82f6;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }
        
        .architecture-section h3 {
            color: #8b5cf6;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .diagram-container {
            background: #0a0a0a;
            border: 2px solid #1e293b;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            overflow-x: auto;
        }
        
        svg {
            max-width: 100%;
            height: auto;
        }
        
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .component-card {
            background: rgba(30, 58, 95, 0.5);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .component-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }
        
        .component-card h4 {
            color: #10b981;
            margin-bottom: 0.5rem;
        }
        
        .tech-badge {
            display: inline-block;
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid #3b82f6;
            border-radius: 4px;
            padding: 0.25rem 0.75rem;
            font-size: 0.85rem;
            margin: 0.25rem;
        }
        
        .flow-list {
            list-style: none;
            padding-left: 0;
        }
        
        .flow-list li {
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background: rgba(30, 58, 95, 0.3);
            border-left: 3px solid #3b82f6;
            border-radius: 4px;
        }
        
        .annotation {
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-size: 0.95rem;
        }
        
        .annotation strong {
            color: #8b5cf6;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>DIRK Brain Portal</h1>
        <p>Reference Architecture & System Design</p>
    </header>
    
    <div class="container">
        <!-- High-Level Architecture -->
        <section class="architecture-section">
            <h2>üìê High-Level Architecture Overview</h2>
            
            <div class="diagram-container">
                <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                    <!-- Frontend Layer -->
                    <rect x="50" y="50" width="1100" height="150" rx="10" fill="none" stroke="#3b82f6" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="600" y="30" text-anchor="middle" fill="#3b82f6" font-size="18" font-weight="bold">Frontend Layer (Next.js + React)</text>
                    
                    <!-- Frontend Components -->
                    <rect x="80" y="80" width="200" height="80" rx="8" fill="#1e3a5f" stroke="#3b82f6"/>
                    <text x="180" y="110" text-anchor="middle" fill="#fff" font-size="14">UnifiedCommandCenter</text>
                    <text x="180" y="130" text-anchor="middle" fill="#94a3b8" font-size="12">Main UI Controller</text>
                    
                    <rect x="300" y="80" width="200" height="80" rx="8" fill="#1e3a5f" stroke="#3b82f6"/>
                    <text x="400" y="110" text-anchor="middle" fill="#fff" font-size="14">3D Visualization</text>
                    <text x="400" y="130" text-anchor="middle" fill="#94a3b8" font-size="12">Three.js Hexagonal Grid</text>
                    
                    <rect x="520" y="80" width="200" height="80" rx="8" fill="#1e3a5f" stroke="#3b82f6"/>
                    <text x="620" y="110" text-anchor="middle" fill="#fff" font-size="14">AI Prompt Box</text>
                    <text x="620" y="130" text-anchor="middle" fill="#94a3b8" font-size="12">Swarm Generation</text>
                    
                    <rect x="740" y="80" width="200" height="80" rx="8" fill="#1e3a5f" stroke="#3b82f6"/>
                    <text x="840" y="110" text-anchor="middle" fill="#fff" font-size="14">Project Panel</text>
                    <text x="840" y="130" text-anchor="middle" fill="#94a3b8" font-size="12">Project Management</text>
                    
                    <rect x="960" y="80" width="170" height="80" rx="8" fill="#1e3a5f" stroke="#3b82f6"/>
                    <text x="1045" y="110" text-anchor="middle" fill="#fff" font-size="14">Terminal Viewer</text>
                    <text x="1045" y="130" text-anchor="middle" fill="#94a3b8" font-size="12">Real-time Output</text>
                    
                    <!-- API Gateway Layer -->
                    <rect x="50" y="250" width="1100" height="100" rx="10" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="600" y="230" text-anchor="middle" fill="#10b981" font-size="18" font-weight="bold">API Gateway & WebSocket Layer</text>
                    
                    <rect x="200" y="270" width="180" height="60" rx="8" fill="#064e3b" stroke="#10b981"/>
                    <text x="290" y="300" text-anchor="middle" fill="#fff" font-size="14">FastAPI Server</text>
                    <text x="290" y="315" text-anchor="middle" fill="#94a3b8" font-size="11">REST API :3001</text>
                    
                    <rect x="420" y="270" width="180" height="60" rx="8" fill="#064e3b" stroke="#10b981"/>
                    <text x="510" y="300" text-anchor="middle" fill="#fff" font-size="14">WebSocket Manager</text>
                    <text x="510" y="315" text-anchor="middle" fill="#94a3b8" font-size="11">Real-time :8080</text>
                    
                    <rect x="640" y="270" width="180" height="60" rx="8" fill="#064e3b" stroke="#10b981"/>
                    <text x="730" y="300" text-anchor="middle" fill="#fff" font-size="14">gRPC Server</text>
                    <text x="730" y="315" text-anchor="middle" fill="#94a3b8" font-size="11">GodMode :50051</text>
                    
                    <rect x="860" y="270" width="180" height="60" rx="8" fill="#064e3b" stroke="#10b981"/>
                    <text x="950" y="300" text-anchor="middle" fill="#fff" font-size="14">Auth Middleware</text>
                    <text x="950" y="315" text-anchor="middle" fill="#94a3b8" font-size="11">Security Layer</text>
                    
                    <!-- Core Services Layer -->
                    <rect x="50" y="400" width="1100" height="150" rx="10" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="600" y="380" text-anchor="middle" fill="#8b5cf6" font-size="18" font-weight="bold">Core Services & Orchestration</text>
                    
                    <rect x="80" y="430" width="220" height="80" rx="8" fill="#4c1d95" stroke="#8b5cf6"/>
                    <text x="190" y="460" text-anchor="middle" fill="#fff" font-size="14">Unified Orchestrator</text>
                    <text x="190" y="480" text-anchor="middle" fill="#94a3b8" font-size="12">Command Routing</text>
                    
                    <rect x="320" y="430" width="220" height="80" rx="8" fill="#4c1d95" stroke="#8b5cf6"/>
                    <text x="430" y="460" text-anchor="middle" fill="#fff" font-size="14">Agent Generator</text>
                    <text x="430" y="480" text-anchor="middle" fill="#94a3b8" font-size="12">Swarm Creation</text>
                    
                    <rect x="560" y="430" width="220" height="80" rx="8" fill="#4c1d95" stroke="#8b5cf6"/>
                    <text x="670" y="460" text-anchor="middle" fill="#fff" font-size="14">MrWolf Security</text>
                    <text x="670" y="480" text-anchor="middle" fill="#94a3b8" font-size="12">Code Validation</text>
                    
                    <rect x="800" y="430" width="220" height="80" rx="8" fill="#4c1d95" stroke="#8b5cf6"/>
                    <text x="910" y="460" text-anchor="middle" fill="#fff" font-size="14">Project Manager</text>
                    <text x="910" y="480" text-anchor="middle" fill="#94a3b8" font-size="12">Discovery & CRUD</text>
                    
                    <!-- Connector Layer -->
                    <rect x="50" y="600" width="1100" height="150" rx="10" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="600" y="580" text-anchor="middle" fill="#ef4444" font-size="18" font-weight="bold">Pluggable Connector Layer</text>
                    
                    <rect x="80" y="630" width="150" height="80" rx="8" fill="#7f1d1d" stroke="#ef4444"/>
                    <text x="155" y="660" text-anchor="middle" fill="#fff" font-size="14">CLI Connector</text>
                    <text x="155" y="680" text-anchor="middle" fill="#94a3b8" font-size="11">Local Tools</text>
                    
                    <rect x="250" y="630" width="150" height="80" rx="8" fill="#7f1d1d" stroke="#ef4444"/>
                    <text x="325" y="660" text-anchor="middle" fill="#fff" font-size="14">API Connector</text>
                    <text x="325" y="680" text-anchor="middle" fill="#94a3b8" font-size="11">Remote APIs</text>
                    
                    <rect x="420" y="630" width="150" height="80" rx="8" fill="#7f1d1d" stroke="#ef4444"/>
                    <text x="495" y="660" text-anchor="middle" fill="#fff" font-size="14">Docker</text>
                    <text x="495" y="680" text-anchor="middle" fill="#94a3b8" font-size="11">Containers</text>
                    
                    <rect x="590" y="630" width="150" height="80" rx="8" fill="#7f1d1d" stroke="#ef4444"/>
                    <text x="665" y="660" text-anchor="middle" fill="#fff" font-size="14">SSH Connector</text>
                    <text x="665" y="680" text-anchor="middle" fill="#94a3b8" font-size="11">Remote Servers</text>
                    
                    <rect x="760" y="630" width="150" height="80" rx="8" fill="#7f1d1d" stroke="#ef4444"/>
                    <text x="835" y="660" text-anchor="middle" fill="#fff" font-size="14">MCP Connector</text>
                    <text x="835" y="680" text-anchor="middle" fill="#94a3b8" font-size="11">Model Context</text>
                    
                    <rect x="930" y="630" width="150" height="80" rx="8" fill="#7f1d1d" stroke="#ef4444"/>
                    <text x="1005" y="660" text-anchor="middle" fill="#fff" font-size="14">WebSocket</text>
                    <text x="1005" y="680" text-anchor="middle" fill="#94a3b8" font-size="11">Streaming</text>
                    
                    <!-- Connection Lines -->
                    <!-- Frontend to API -->
                    <line x1="180" y1="160" x2="290" y2="270" stroke="#3b82f6" stroke-width="1" opacity="0.5"/>
                    <line x1="400" y1="160" x2="510" y2="270" stroke="#3b82f6" stroke-width="1" opacity="0.5"/>
                    <line x1="620" y1="160" x2="290" y2="270" stroke="#3b82f6" stroke-width="1" opacity="0.5"/>
                    
                    <!-- API to Services -->
                    <line x1="290" y1="330" x2="190" y2="430" stroke="#10b981" stroke-width="1" opacity="0.5"/>
                    <line x1="510" y1="330" x2="430" y2="430" stroke="#10b981" stroke-width="1" opacity="0.5"/>
                    <line x1="730" y1="330" x2="670" y2="430" stroke="#10b981" stroke-width="1" opacity="0.5"/>
                    
                    <!-- Services to Connectors -->
                    <line x1="190" y1="510" x2="155" y2="630" stroke="#8b5cf6" stroke-width="1" opacity="0.5"/>
                    <line x1="190" y1="510" x2="325" y2="630" stroke="#8b5cf6" stroke-width="1" opacity="0.5"/>
                    <line x1="190" y1="510" x2="495" y2="630" stroke="#8b5cf6" stroke-width="1" opacity="0.5"/>
                </svg>
            </div>
            
            <div class="annotation">
                <strong>Key Architecture Principles:</strong>
                <ul>
                    <li>Microservices architecture with clear separation of concerns</li>
                    <li>Event-driven communication via WebSocket for real-time updates</li>
                    <li>Pluggable connector system for extensibility</li>
                    <li>Unified orchestration layer for consistent command routing</li>
                </ul>
            </div>
        </section>
        
        <!-- Data Flow Section -->
        <section class="architecture-section">
            <h2>üîÑ Data Flow Patterns</h2>
            
            <h3>Key Communication Flows</h3>
            <ol class="flow-list">
                <li><strong>Command Execution:</strong> User ‚Üí Frontend ‚Üí API ‚Üí Orchestrator ‚Üí Connector ‚Üí Execution</li>
                <li><strong>Agent Generation:</strong> Natural Language ‚Üí Pattern Analysis ‚Üí Team Composition ‚Üí Deployment</li>
                <li><strong>Security Validation:</strong> Code ‚Üí MrWolf ‚Üí Threat Analysis ‚Üí Risk Score ‚Üí Report</li>
                <li><strong>Project Discovery:</strong> Sources ‚Üí Project Manager ‚Üí Analysis ‚Üí Frontend Display</li>
            </ol>
            
            <div class="annotation">
                <strong>Real-time Updates:</strong> All operations broadcast status via WebSocket for live monitoring
            </div>
        </section>
        
        <!-- Deployment Section -->
        <section class="architecture-section">
            <h2>üöÄ Deployment Architecture</h2>
            
            <div class="component-grid">
                <div class="component-card">
                    <h4>Local Development</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>‚Ä¢ Frontend: localhost:3000</li>
                        <li>‚Ä¢ Backend API: localhost:3001</li>
                        <li>‚Ä¢ gRPC: localhost:50051</li>
                        <li>‚Ä¢ WebSocket: localhost:8080</li>
                    </ul>
                </div>
                
                <div class="component-card">
                    <h4>Docker Deployment</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>‚Ä¢ Multi-stage builds</li>
                        <li>‚Ä¢ Docker Compose orchestration</li>
                        <li>‚Ä¢ Volume mounts for persistence</li>
                        <li>‚Ä¢ Network isolation</li>
                    </ul>
                </div>
                
                <div class="component-card">
                    <h4>Cloud Deployment</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>‚Ä¢ Kubernetes clusters</li>
                        <li>‚Ä¢ Load balancing</li>
                        <li>‚Ä¢ Auto-scaling</li>
                        <li>‚Ä¢ Managed databases</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
</body>
</html>
        
        <!-- Component Details -->
        <section class="architecture-section">
            <h2>üß© Component Architecture</h2>
            
            <h3>Frontend Components</h3>
            <div class="component-grid">
                <div class="component-card">
                    <h4>UnifiedCommandCenter</h4>
                    <p>Main orchestration UI component</p>
                    <div style="margin-top: 0.5rem;">
                        <span class="tech-badge">React 19</span>
                        <span class="tech-badge">TypeScript</span>
                        <span class="tech-badge">Zustand</span>
                    </div>
                    <ul style="margin-top: 1rem; font-size: 0.9rem;">
                        <li>‚Ä¢ Three view modes (Command/Monitor/Hybrid)</li>
                        <li>‚Ä¢ Real-time WebSocket integration</li>
                        <li>‚Ä¢ Keyboard shortcut handling</li>
                    </ul>
                </div>
                
                <div class="component-card">
                    <h4>ElegantAgentVisualization</h4>
                    <p>3D hexagonal grid visualization</p>
                    <div style="margin-top: 0.5rem;">
                        <span class="tech-badge">Three.js</span>
                        <span class="tech-badge">React Three Fiber</span>
                    </div>
                    <ul style="margin-top: 1rem; font-size: 0.9rem;">
                        <li>‚Ä¢ Hexagonal project nodes</li>
                        <li>‚Ä¢ Agent position tracking</li>
                        <li>‚Ä¢ Data flow animations</li>
                    </ul>
                </div>
                
                <div class="component-card">
                    <h4>EnhancedAIPromptBox</h4>
                    <p>Natural language agent generation</p>
                    <div style="margin-top: 0.5rem;">
                        <span class="tech-badge">React Hook Form</span>
                        <span class="tech-badge">Radix UI</span>
                    </div>
                    <ul style="margin-top: 1rem; font-size: 0.9rem;">
                        <li>‚Ä¢ Template-based generation</li>
                        <li>‚Ä¢ Project assignment</li>
                        <li>‚Ä¢ Swarm configuration</li>
                    </ul>
                </div>
            </div>
            
            <h3>Backend Services</h3>
            <div class="component-grid">
                <div class="component-card">
                    <h4>Unified Orchestrator</h4>
                    <p>Central command routing engine</p>
                    <div style="margin-top: 0.5rem;">
                        <span class="tech-badge">Python</span>
                        <span class="tech-badge">AsyncIO</span>
                    </div>
                    <ul style="margin-top: 1rem; font-size: 0.9rem;">
                        <li>‚Ä¢ Smart command interpretation</li>
                        <li>‚Ä¢ Connector management</li>
                        <li>‚Ä¢ Workflow execution</li>
                    </ul>
                </div>
                
                <div class="component-card">
                    <h4>GodMode gRPC Server</h4>
                    <p>Task decomposition service</p>
                    <div style="margin-top: 0.5rem;">
                        <span class="tech-badge">gRPC</span>
                        <span class="tech-badge">Protocol Buffers</span>
                    </div>
                    <ul style="margin-top: 1rem; font-size: 0.9rem;">
                        <li>‚Ä¢ Task analysis & decomposition</li>
                        <li>‚Ä¢ Agent selection logic</li>
                        <li>‚Ä¢ Execution planning</li>
                    </ul>
                </div>
                
                <div class="component-card">
                    <h4>MrWolf Security</h4>
                    <p>Comprehensive security validation</p>
                    <div style="margin-top: 0.5rem;">
                        <span class="tech-badge">Python</span>
                        <span class="tech-badge">AST Analysis</span>
                    </div>
                    <ul style="margin-top: 1rem; font-size: 0.9rem;">
                        <li>‚Ä¢ Threat detection patterns</li>
                        <li>‚Ä¢ Dependency scanning</li>
                        <li>‚Ä¢ Compliance checking</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Data Flow Section -->
        <section class="architecture-section">
            <h2>üîÑ Data Flow Patterns</h2>
            
            <h3>Key Communication Flows</h3>
            <ol class="flow-list">
                <li><strong>Command Execution:</strong> User ‚Üí Frontend ‚Üí API ‚Üí Orchestrator ‚Üí Connector ‚Üí Execution</li>
                <li><strong>Agent Generation:</strong> Natural Language ‚Üí Pattern Analysis ‚Üí Team Composition ‚Üí Deployment</li>
                <li><strong>Security Validation:</strong> Code ‚Üí MrWolf ‚Üí Threat Analysis ‚Üí Risk Score ‚Üí Report</li>
                <li><strong>Project Discovery:</strong> Sources ‚Üí Project Manager ‚Üí Analysis ‚Üí Frontend Display</li>
            </ol>
            
            <div class="annotation">
                <strong>Real-time Updates:</strong> All operations broadcast status via WebSocket for live monitoring
            </div>
        </section>
        
        <!-- Deployment Section -->
        <section class="architecture-section">
            <h2>üöÄ Deployment Architecture</h2>
            
            <div class="component-grid">
                <div class="component-card">
                    <h4>Local Development</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>‚Ä¢ Frontend: localhost:3000</li>
                        <li>‚Ä¢ Backend API: localhost:3001</li>
                        <li>‚Ä¢ gRPC: localhost:50051</li>
                        <li>‚Ä¢ WebSocket: localhost:8080</li>
                    </ul>
                </div>
                
                <div class="component-card">
                    <h4>Docker Deployment</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>‚Ä¢ Multi-stage builds</li>
                        <li>‚Ä¢ Docker Compose orchestration</li>
                        <li>‚Ä¢ Volume mounts for persistence</li>
                        <li>‚Ä¢ Network isolation</li>
                    </ul>
                </div>
                
                <div class="component-card">
                    <h4>Cloud Deployment</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>‚Ä¢ Kubernetes clusters</li>
                        <li>‚Ä¢ Load balancing</li>
                        <li>‚Ä¢ Auto-scaling</li>
                        <li>‚Ä¢ Managed databases</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
</body>
</html>